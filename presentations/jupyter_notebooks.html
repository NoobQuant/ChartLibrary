<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Python and R with Jupyter Notebooks</title>

		<meta name="author" content="Ville Voutilainen">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="revealjs/css/reveal.css">
		<link rel="stylesheet" href="revealjs/css/theme/noobquant.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="revealjs/lib/css/zenburn.css">


		<!--[if lt IE 9]>
		<script src="revealjs/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>


	<body>
	
		<script src="revealjs/lib/js/head.min.js"></script>
		<script src="revealjs/js/reveal.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_SVG"></script>		
		<script src="https://rawgit.com/noobquant/AnimationLib/master/basic_utils/NQ_colors_and_fonts.js"></script> 
		<script type="https://rawgit.com/noobquant/AnimationLib/master/basic_utils/basic_utils.js"></script> 			

		<div class="reveal">

			<div class="slides">
				
				<section >					
					<br>					
					<br>
					<h2>Python and R with<br>Jupyter Notebooks</h2>
					<p>
						Talk given at Bank of Finland, October 25th 2018.<br>
						<a href="http://noobquant.site/">Ville Voutilainen</a>*
					</p>
					<br>
					<p>
						<small>
						* Views expressed are those of the presenter. 
						</small>
					</p>
					<p>
						<small>
						Presentation tested to work in Chrome. 
						</small>
					</p>					
				</section>

				<section id="intro">
					<h3>In this presentation</h3>
					<br>								
					<ul>
						<li class="fragment">What are <tspan id = 'redtspan'>Jupyter Notebooks</tspan> ?</li>						
						<li class="fragment">Why <tspan id = 'purpletspan'>data analysis</tspan> in notebooks?</li>
						<li class="fragment">Employ both <tspan id = 'greentspan'>Python</tspan> and <tspan id = 'bluetspan'>R</tspan> (together or separately) in notebooks.</li>
					</ul>
				</section>

				<section >
					<br>					
					<br>						
					<blockquote>
						&ldquo;Code is never just code. It's part of a thought process, an argument, even an experiment.&rdquo;
					</blockquote>
					<p><a href="https://www.oreilly.com/ideas/what-is-jupyter">What is Jupyter?</a> by O'reily.</p>
				</section>				
				
				<section >
					<br>					
					<br>						
					<blockquote>
						&ldquo;A Jupyter notebook is an excellent means of capturing code, text, widgets, graphics, and other rich media in a computational narrative that distills data into insights.&rdquo;
					</blockquote>
					<p>IBM Emerging Technologies<a href="http://blog.ibmjstart.net/2015/08/22/dynamic-dashboards-from-jupyter-notebooks/"> blog</a>.</p>										
				</section>			

				<section
					class="fig-container"
					data-fig-id="scene_kdd"
					data-file="jupyter_notebooks/scene_kdd2.html">
					<h3>Field of knowledge discovery</h3>
				</section>		

				<section>
					<h3>How do notebooks help?</h3>
					<div style="width: 100%; overflow: hidden;">
						<div style="width: 600px; float: left;">
							<ul>
								<li class="fragment"><tspan id = 'orangetspan'>KDD</tspan>: Text, equations, code and graphs in one place.</li>								
								<li class="fragment"><tspan id = 'purpletspan'>EDA</tspan>: Play around with data in contained code cells.</li>											
								<li class="fragment"><tspan id = 'browntspan'>Info viz</tspan>: Produce interactive/static plots and render them in-place.</li>
								<li class="fragment">Share work in browsers - universal access.</li>											
							</ul>					
						</div>
						<div style="margin-left: 620px;">
							<img src="jupyter_notebooks/pics/notebook_capture.PNG"  width="90%" height="90%">
							<!--<img src="https://github.com/NoobQuant/ChartLibrary/blob/master/presentations/jupyter_notebooks/pics/notebook_capture.PNG"  width="90%" height="90%">-->
							<p style="font-size:60%;">Example of a notebook.</p>			
						</div>
					</div>					
				</section>



				<section >
					<h4>Notebooks, Python, and R as part of Anaconda installation</h4>
					<ul>
						<li class="fragment"><tspan id = 'orangetspan'>Anaconda</tspan> is a popular data science platform for Python and R.</li>
						<li class="fragment">It comes pre-installed with over 1000 data packages, e.g. Jupyter notebooks, RStudio etc.</li>
						<li class="fragment">Python and R are run within virtual <tspan id = 'purpletspan'>environments</tspan>.</li>
						<li class="fragment">Packages and environments are managed with <tspan id = 'bluetspan'>conda</tspan>, Anaconda's packages manager.</li>												
					</ul>
				</section>

				<section
					class="fig-container"
					data-fig-id="scene_environments"
					data-file="jupyter_notebooks/scene_environments.html"
				></section>
						
				<section>
					<section >
						<h3>Example in Python</h3>
						<br>
						<br>								
						<p>Let's walk through an easy example where we...</p>
						<br>										
						<a href="#" class="navigate-down">
								<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>						
					</section>	

					<section>
						<h3>... import some data</h3>
						<pre><code class="hljs" data-trim contenteditable>
							def get_iris_data():
							"""
							This function imports iris dataset
							from scikit learn dataset collection
							and saves is at .csv.
							"""
							from sklearn import datasets
							iris = datasets.load_iris()
							df = pd.DataFrame(iris.data)
							df = pd.concat([df, pd.DataFrame(iris.target)], axis = 1)
							names = [x.replace(' (cm)', '') for x in iris.feature_names]
							df.columns = names + ['type']
							df.to_csv("iris_data.csv",index=False)
						</code></pre>
					</section>	

					<section>
						<h3>... apply simple dimensionality reduction</h3>
						<br>
						<br>
						<pre><code class="hljs" data-trim contenteditable>
								# Apply PCA to data to reduce feature dimesions from 4 to 3
								from sklearn.decomposition import PCA
								pca = PCA(n_components = 3)
								X_pca = pd.DataFrame(pca.fit_transform(X))
						</code></pre>
					</section>		

					<section>
							<h3>... and plot the data</h3>
							<br>
							<pre><code class="hljs" data-trim contenteditable>
									# Figure and axis
									fig = plt.figure(figsize=(16, 6))
									ax = fig.add_subplot(121, projection='3d')
																		
									# Draw scatter
									ax.scatter(X_pca.iloc[:, 0], X_pca.iloc[:, 1], X_pca.iloc[:, 2], 
											   c=y,edgecolor='k', s=40)
									ax.set_title("First three PCA directions")
							</code></pre>
							<p>Link to <a href="https://github.com/NoobQuant/ChartLibrary/blob/master/presentations/jupyter_notebooks/code_examples/python/Jupyter_notebooks_with_Python.ipynb">notebook</a>.</p>
					</section>		

				</section>

				<section>
						<section >
							<h3>Example in R</h3>
							<p>Let's walk through an easy example where we...</p>
							<ul>
								<li>blaa</li>																																		
							</ul>					
						</section>	
	
						<section>
							<h3>blaa</h3>
							<pre><code class="hljs" data-trim contenteditable>
								blaa
							</code></pre>					
						</section>	
		
					</section>				
				
				<section>
					<section >
						<br>						
						<h4>Love data manipulation with Python pandas but need that nieche R library for estimation?</h4>
						<a href="#" class="navigate-down">
								<img width="178" height="238" data-src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>						
					</section>	

					<section>
						<br>
						<br>						
						<img src="jupyter_notebooks\pics/rpy2.JPG">
					</section>	

					<section >
							<h4>Package rpy2</h4>
							<ul>							
								<li class="fragment"><a href="https://rpy2.readthedocs.io/en/version_2.8.x/">rpy2</a> is a  high-level interface designed to facilitate the use of R by Python programmers.</li>
								<li class="fragment">Let us see it in action along the lines of following <a href="https://www.shanelynn.ie/self-organising-maps-for-customer-segmentation-using-r/">article</a> by Shane Lynn.</li>
								<li class="fragment">In the example we train a <tspan id = 'redtspan'>Self-Organizing Map</tspan> (SOM) for customer segmentation.</li>								
							</ul>
					</section>					

					<section>
						<h3>R magic in Python!</h3>
						<pre><code class="hljs" data-trim contenteditable>
								%%R -i df_train -o export_df

								data_train = df_train
								# Scale and center all columns
								data_train_matrix = as.matrix(scale(data_train))
								names(data_train_matrix) = names(data_train)
								
								# Train the SOM model
								som_grid = somgrid(xdim = 20, ydim=20, topo="hexagonal")
								som_model = som(data_train_matrix, grid=som_grid, 
										rlen=500, alpha=c(0.1,0.01), 
										keep.data = TRUE )
								
								export_df = as.data.frame(data_train_matrix)
						</code></pre>
						<p>Link to <a href="#https://github.com/NoobQuant/ChartLibrary/blob/master/presentations/jupyter_notebooks/code_examples/combined/SOM.ipynb">notebook</a>.</p>						
					</section>					
				</section>	
				
				<section data-background="http://i.giphy.com/90F8aUepslB84.gif"></section>	
				
				<section >
					<h3>Sumary</h3>
					<ul>
						<li>Summary here</li>
						<li>Another summary point <tspan id = 'bluetspan'>here</tspan>.</li>												
					</ul>
				</section>

				<section >
						<br>
						<br>
						<br>																
						<h1>Thank you!</h1>
						<p><a href="https://noobquant.site/">noobquant.site</a></p>
				</section>								

			</div>

		</div>


		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: false,

				transition: 'convex', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'revealjs/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'revealjs/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'revealjs/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'revealjs/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'revealjs/plugin/search/search.js', async: true },
					{ src: 'revealjs/plugin/zoom-js/zoom.js', async: true },
					{ src: 'https://d3js.org/d3.v4.min.js', },
					{ src: 'revealjs/plugin/d3js/d3js.js' },					
					{ src: 'revealjs/plugin/notes/notes.js', async: true }
				]

			});

		//addMathJax();
		</script>	

	</body>
</html>
